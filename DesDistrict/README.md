# DesDistrict - Веб-приложение для магазина мебели

## Обзор

DesDistrict — это веб-приложение на основе Django, предназначенное для онлайн-магазина мебели. Оно позволяет пользователям просматривать каталог мебели, добавлять товары в корзину, оформлять заказы и управлять ими. Проект включает аутентификацию пользователей, каталог товаров с категориями и функционал корзины. Приложение разворачивается с использованием Docker для удобной настройки и масштабирования.

## Функциональность

- **Аутентификация пользователей**: Регистрация, вход и выход с возможностью авторизации через социальные сети (Google, GitHub, Facebook).
- **Каталог товаров**: Просмотр мебели, организованной по категориям (например, "Кухня", "Спальня").
- **Корзина покупок**: Добавление товаров в корзину, просмотр содержимого корзины и расчёт общей стоимости.
- **Оформление заказов**: Возможность оформить заказ на выбранные товары с указанием контактных данных и способа доставки.
- **Управление заказами**: Просмотр и управление заказами через профиль пользователя.
- **Админ-панель**: Управление товарами, категориями и пользователями через интерфейс Django.
- **Адаптивный дизайн**: Использует Bootstrap для удобного отображения на мобильных устройствах.
- **Статические файлы**: Включает пользовательские стили CSS, JavaScript и иконки для улучшения интерфейса.

## Технологии

- **Бэкенд**: Django 5.0.6, Python 3.13.2
- **База данных**: PostgreSQL 16
- **Фронтенд**: HTML, Bootstrap 5, jQuery 3.7.0, пользовательские CSS/JS
- **Развёртывание**: Docker, Docker Compose
- **Зависимости**:
  - `django-bootstrap5` для интеграции Bootstrap
  - `django-debug-toolbar` для отладки
  - `psycopg2-binary` для подключения к PostgreSQL
  - `django-mptt` для иерархических категорий
  - Полный список в `requirements.txt`

## Инструменты

Проект использует следующие инструменты и технологии:

- **Языки и технологии**:
  - **Python**: Основной язык разработки (версия 3.13.2).
  - **CSS**: Пользовательские стили (`my_css.css`, `my_footer_css.css`) для оформления интерфейса.
  - **HTML**: Шаблоны для рендеринга страниц (`base.html`, `index.html`, `cart_button.html` и др.).
  - **JavaScript**: Интерактивность на стороне клиента (с использованием jQuery 3.7.0).
- **API и кэширование**:
  - **Low Cache API**: Используется для кэширования категорий в каталоге (например, `{% cache 60 catalog_categories %}` в шаблонах).
- **Инструменты развертывания**:
  - **Docker**: Контейнеризация приложения (`Dockerfile`).
  - **Docker Compose**: Управление сервисами (веб-приложение и база данных, `docker-compose.yml`).
- **Библиотеки из** `requirements.txt`:
  - `asgiref==3.8.1` - Поддержка асинхронных приложений в Django.
  - `django==5.0.6` - Фреймворк Django.
  - `django-bootstrap5==24.3` - Интеграция Bootstrap 5 с Django.
  - `django-debug-toolbar==4.4.6` - Инструмент для отладки Django-приложений.
  - `django-mptt==0.16.0` - Поддержка иерархических структур (для категорий).
  - `psycopg2-binary==2.9.9` - Драйвер для работы с PostgreSQL.
  - `sqlparse==0.5.0` - Парсер SQL для Django.

## Структура проекта

```
DesDistrict/
├── DesDistrict/           # Основная директория проекта Django
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py       # Настройки проекта (база данных, статические файлы и т.д.)
│   ├── urls.py           # Основная маршрутизация URL
│   └── wsgi.py
├── apps/                 # Приложения Django
│   ├── cart/             # Функционал корзины покупок
│   ├── catalog/          # Каталог товаров и категории
│   ├── order/            # Управление заказами
│   ├── user/             # Аутентификация и профили пользователей
│   └── goods/            # Модели для товаров и категорий
├── fixtures/             # Начальные данные для базы данных
│   └── goods/
│       ├── category.json
│       └── products.json
├── static/               # Статические файлы (CSS, JS, иконки, изображения)
│   ├── css/
│   ├── js/
│   ├── icons/
│   └── images/
├── templates/            # HTML-шаблоны
│   ├── base.html         # Базовый шаблон с навигационной панелью и футером
│   ├── includes/         # Повторно используемые компоненты шаблонов
│   │   └── cart_button.html
│   ├── main/             # Шаблоны основного приложения
│   │   └── index.html
│   └── catalog/          # Шаблоны каталога
├── docker-compose.yml    # Конфигурация Docker Compose
├── Dockerfile            # Конфигурация Docker для веб-сервиса
├── .env                  # Переменные окружения (например, DATABASE_URL)
├── requirements.txt      # Зависимости Python
└── manage.py             # Скрипт управления Django
```

## Установка

### Требования

- Установленные Docker и Docker Compose
- Git
- Python 3.10 (опционально, если запуск без Docker)

### Шаги

1. **Клонируйте репозиторий**:

   ```bash
   git clone https://github.com/DmitriyPichugov/my_projects.git
   cd my_projects/DesDistrict
   ```

2. **Настройте переменные окружения**: Создайте файл `.env` в корне проекта и добавьте:

   ```
   DATABASE_URL=postgresql://desdistrict_admin:05378999@db:5432/desdistrict
   DJANGO_SETTINGS_MODULE=DesDistrict.settings
   ```

3. **Соберите и запустите с помощью Docker**:

   ```bash
   docker compose up --build -d
   ```

4. **Примените миграции**:

   ```bash
   docker compose exec web bash -c "python manage.py migrate"
   ```

5. **Загрузите начальные данные**: Загрузите категории и товары из фикстур:

   ```bash
   docker compose exec web bash -c "python manage.py loaddata fixtures/goods/category.json"
   docker compose exec web bash -c "python manage.py loaddata fixtures/goods/products.json"
   ```

6. **Создайте суперпользователя** (опционально, для доступа к админ-панели):

   ```bash
   docker compose exec web bash -c "python manage.py createsuperuser"
   ```

7. **Доступ к приложению**:

   - Веб-сайт: `http://localhost:8000`
   - Админ-панель: `http://localhost:8000/admin`

## Использование

1. **Просмотр каталога**:

   - Откройте главную страницу (`/`) и используйте выпадающее меню "Каталог" для просмотра категорий и товаров.
   - Категории и товары загружаются из базы данных (изначально через фикстуры).

2. **Добавление в корзину**:

   - Нажмите на товар в каталоге и добавьте его в корзину.
   - Иконка корзины в левом верхнем углу (или "Корзина" в панели сверху) покажет количество товаров и общую стоимость.

3. **Оформление заказа**:

   - После добавления товаров в корзину перейдите в раздел корзины.
   - Нажмите "Оформить заказ", укажите контактные данные и выберите способ доставки.
   - Подтвердите заказ, чтобы сохранить его в системе.

4. **Аутентификация пользователей**:

   - Зарегистрируйтесь или войдите через ссылки в навигационной панели.
   - Доступны варианты входа через социальные сети (Google, GitHub, Facebook).
   - Можете настроить свой профиль (установить аватар, указать номер телефона и т.д.)

5. **Управление через админ-панель**:

   - Войдите в админ-панель (`/admin`) для управления товарами, категориями и пользователями.